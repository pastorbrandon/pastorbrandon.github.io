<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#ff7b00">
  <title>Horadric Companion</title>
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header>
    <h1>Horadric Companion</h1>
            <p>Hydra Sorcerer Companion (v3.5)</p>
  </header>

  <nav id="tabs">
    <button data-tab="gear" class="active">Gear</button>
    <button data-tab="affixes">Affixes</button>
    <button data-tab="tempering">Tempering</button>
    <button data-tab="masterworking">Masterworking</button>
    <button data-tab="skills">Skills</button>
    <button data-tab="paragon">Paragon</button>
    <button data-tab="notes">Notes</button>
  </nav>

  <main>
    <section id="gear" class="tab active">
      <div class="actions">
        <button id="btn-load-demo">Load Demo Build</button>
        <button id="btn-clear-build">Clear Build</button>
        <button id="btn-check-gear" onclick="console.log('Check Gear clicked via inline handler')">Check New Gear</button>
      </div>
      
      <!-- Gear Analysis Panel -->
      <div id="gearAnalysisPanel" class="gear-analysis hidden">
        <h3>üîç Gear Analysis</h3>
        <div class="gear-comparison">
          <div class="current-gear">
            <h4>Current Gear</h4>
            <div id="currentGearInfo" class="gear-info">
              <p class="gear-name">No gear equipped</p>
              <p class="gear-status">Status: ‚Äî</p>
            </div>
          </div>
          
          <div class="new-gear">
            <h4>New Gear</h4>
            <div id="newGearInfo" class="gear-info">
              <p class="gear-name">Analyzing...</p>
              <p class="gear-status">Status: ‚Äî</p>
            </div>
          </div>
        </div>
        
        <div class="gear-recommendation">
          <h4>üí° Recommendation</h4>
          <p id="recommendationText">Analyzing gear...</p>
          <div class="recommendation-actions">
            <button id="btn-switch" class="btn-primary" disabled>‚úÖ Switch</button>
            <button id="btn-close" class="btn-secondary">‚úï Close</button>
          </div>
        </div>
      </div>

      <div class="paper-doll">
        <div class="slot" data-slot="helm">
          <h3>Helm</h3>
          <div class="gear-name" data-grade="unscored">No gear equipped</div>
          <button class="add-gear-btn" onclick="console.log('Add Gear clicked via inline handler - helm')">+ Add Gear</button>
        </div>
        <div class="slot" data-slot="amulet">
          <h3>Amulet</h3>
          <div class="gear-name" data-grade="unscored">No gear equipped</div>
          <button class="add-gear-btn" onclick="console.log('Add Gear clicked via inline handler - amulet')">+ Add Gear</button>
        </div>
        <div class="slot" data-slot="chest">
          <h3>Chest</h3>
          <div class="gear-name" data-grade="unscored">No gear equipped</div>
          <button class="add-gear-btn">+ Add Gear</button>
        </div>
        <div class="slot" data-slot="gloves">
          <h3>Gloves</h3>
          <div class="gear-name" data-grade="unscored">No gear equipped</div>
          <button class="add-gear-btn">+ Add Gear</button>
        </div>
        <div class="slot" data-slot="pants">
          <h3>Pants</h3>
          <div class="gear-name" data-grade="unscored">No gear equipped</div>
          <button class="add-gear-btn">+ Add Gear</button>
        </div>
        <div class="slot" data-slot="boots">
          <h3>Boots</h3>
          <div class="gear-name" data-grade="unscored">No gear equipped</div>
          <button class="add-gear-btn">+ Add Gear</button>
        </div>
        <div class="slot" data-slot="ring1">
          <h3>Ring 1</h3>
          <div class="gear-name" data-grade="unscored">No gear equipped</div>
          <button class="add-gear-btn">+ Add Gear</button>
        </div>
        <div class="slot" data-slot="ring2">
          <h3>Ring 2</h3>
          <div class="gear-name" data-grade="unscored">No gear equipped</div>
          <button class="add-gear-btn">+ Add Gear</button>
        </div>
        <div class="slot" data-slot="weapon">
          <h3>Weapon</h3>
          <div class="gear-name" data-grade="unscored">No gear equipped</div>
          <button class="add-gear-btn">+ Add Gear</button>
        </div>
        <div class="slot" data-slot="offhand">
          <h3>Off-hand</h3>
          <div class="gear-name" data-grade="unscored">No gear equipped</div>
          <button class="add-gear-btn">+ Add Gear</button>
        </div>
      </div>
      
      <!-- Gear Details Modal -->
      <div id="gearModal" class="modal hidden">
        <div class="modal-content">
          <div class="modal-header">
            <h3 id="modalTitle">Gear Details</h3>
            <button id="closeModal" class="close-btn">√ó</button>
          </div>
          <div class="modal-body">
            <div id="modalGearName" class="modal-gear-name"></div>
            <div id="modalGearStats" class="modal-gear-stats"></div>
            <div id="modalGearGrade" class="modal-gear-grade"></div>
            <div id="modalImprovement" class="modal-improvement hidden"></div>
          </div>
        </div>
      </div>
      
      <p class="hint">Click a gear name to view details. Status colors: <span class="chip blue">Blue</span> BiS, <span class="chip green">Green</span> Keep & improve, <span class="chip yellow">Yellow</span> Viable, <span class="chip red">Red</span> Replace.</p>
    </section>

    <section id="affixes" class="tab">
      <h2>Affix Priorities</h2>
      <pre id="affix-json"></pre>
    </section>

    <section id="tempering" class="tab">
      <h2>Tempering</h2>
      <pre id="tempering-json"></pre>
    </section>

    <section id="masterworking" class="tab">
      <h2>Masterworking</h2>
      <pre id="mw-json"></pre>
    </section>

    <section id="skills" class="tab">
      <h2>Skill Tree (Summary)</h2>
      <ul id="skills-list"></ul>
    </section>

    <section id="paragon" class="tab">
      <h2>Paragon (Boards & Glyphs)</h2>
      <ul id="paragon-list"></ul>
    </section>

    <section id="notes" class="tab">
      <h2>Session Notes</h2>
      <textarea id="notes-text" placeholder="Farm boots; target Evade CDR; reroll amulet..."></textarea>
    </section>
  </main>

  <footer>
    <p>Updated: <span id="rules-date">‚Äî</span></p>
  </footer>

  <script src="app.js"></script>
</body>
</html>
